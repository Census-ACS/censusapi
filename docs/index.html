<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Retrieve Data from the Census APIs • censusapi</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><link href="extra.css" rel="stylesheet">
<meta property="og:title" content="Retrieve Data from the Census APIs">
<meta property="og:description" content="A wrapper for the U.S. Census Bureau APIs that returns data frames of 
	Census data and metadata. Available datasets include the 
	Decennial Census, American Community Survey, Small Area Health Insurance Estimates,
	Small Area Income and Poverty Estimates, Population Estimates and Projections, and more.">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">censusapi</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.6.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="articles/getting-started.html">Getting started with censusapi</a>
</li>
<li>
  <a href="articles/example-masterlist.html">Example master list</a>
</li>
<li>
  <a href="news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/hrecht/censusapi">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="contents col-md-9">
<div id="censusapi" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#censusapi" class="anchor"></a>censusapi</h1></div>

<p><code>censusapi</code> is an accessor for the United States Census Bureau’s <a href="https://www.census.gov/developers/">APIs</a>. More than <a href="https://api.census.gov/data.html">300 Census API endpoints</a> are available, including Decennial Census, American Community Survey, Poverty Statistics, and Population Estimates APIs. This package is designed to let you get data from all of those APIs using the same main function—<code>getCensus</code>—and the same syntax for each dataset.</p>
<p><code>censusapi</code> generally uses the APIs’ original parameter names so that users can easily transition between Census’s documentation and examples and this package. It also includes metadata functions to return data frames of available APIs, variables, and geographies.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>Get the latest stable release from CRAN:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/install.packages">install.packages</a></span>(<span class="st">"censusapi"</span>)<span class="st">`</span></code></pre></div>
<p>You can also install the latest development version of <code>censusapi</code> from Github using <code>devtools</code>. Most people will not want to do this - BEWARE!:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># install.packages("devtools")</span>
devtools<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/devtools/topics/reexports">install_github</a></span>(<span class="st">"hrecht/censusapi"</span>)</code></pre></div>
</div>
<div id="api-key-setup" class="section level2">
<h2 class="hasAnchor">
<a href="#api-key-setup" class="anchor"></a>API key setup</h2>
<p>To use the Census APIs, <a href="http://api.census.gov/data/key_signup.html">sign up</a> for an API key, which will be sent to your provided email address. You’ll need that key to use this package. While Census currently does not require an API key for all APIs, that can change at any moment and so this package enforces key usage.</p>
<p>A recommended way to manage your key is to add it to you .Renviron file. Most users will want to do this. Within R, run:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Add key to .Renviron</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/Sys.setenv">Sys.setenv</a></span>(<span class="dt">CENSUS_KEY=</span>YOURKEYHERE)
<span class="co"># Reload .Renviron</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/readRenviron">readRenviron</a></span>(<span class="st">"~/.Renviron"</span>)
<span class="co"># Check to see that the expected key is output in your R console</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/Sys.getenv">Sys.getenv</a></span>(<span class="st">"CENSUS_KEY"</span>)</code></pre></div>
<p>Or, open your .Renviron file in a text editor and add the following line: <code>CENSUS_KEY=YOURKEYHERE</code></p>
<p>Once you’ve added your census key to your system environment, censusapi will use it by default without any extra work on your part.</p>
<p>In some instances you might not want to put your key in your .Renviron - for example, if you’re on a shared school computer. You can always choose to manually set <code>key="YOURKEY"</code> as an argument in getCensus if you prefer.</p>
</div>
<div id="usage-examples" class="section level2">
<h2 class="hasAnchor">
<a href="#usage-examples" class="anchor"></a>Usage examples</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(censusapi)</code></pre></div>
<p>Get uninsured rates from the Small Area Health Insurance Estimates <a href="https://www.census.gov/data/developers/data-sets/Health-Insurance-Statistics.html">(SAHIE) timeseries API</a> using <code><a href="reference/getCensus.html">getCensus()</a></code>.</p>
<p>State-level data by income group within Alabama.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/getCensus.html">getCensus</a></span>(<span class="dt">name =</span> <span class="st">"timeseries/healthins/sahie"</span>,
    <span class="dt">vars =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"NAME"</span>, <span class="st">"IPRCAT"</span>, <span class="st">"IPR_DESC"</span>, <span class="st">"PCTUI_PT"</span>), 
    <span class="dt">region =</span> <span class="st">"state:01"</span>,
    <span class="dt">time =</span> <span class="dv">2017</span>)
<span class="co">#&gt;   time state    NAME IPRCAT                IPR_DESC PCTUI_PT</span>
<span class="co">#&gt; 1 2017    01 Alabama      0             All Incomes     11.0</span>
<span class="co">#&gt; 2 2017    01 Alabama      1      &lt;= 200% of Poverty     18.3</span>
<span class="co">#&gt; 3 2017    01 Alabama      2      &lt;= 250% of Poverty     17.3</span>
<span class="co">#&gt; 4 2017    01 Alabama      3      &lt;= 138% of Poverty     19.4</span>
<span class="co">#&gt; 5 2017    01 Alabama      4      &lt;= 400% of Poverty     14.5</span>
<span class="co">#&gt; 6 2017    01 Alabama      5 138% to 400% of Poverty     11.5</span></code></pre></div>
<p>County-level data within Alabama, specified by adding the <code>regionin</code> parameter.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">sahie_counties &lt;-<span class="st"> </span><span class="kw"><a href="reference/getCensus.html">getCensus</a></span>(<span class="dt">name =</span> <span class="st">"timeseries/healthins/sahie"</span>,
    <span class="dt">vars =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"NAME"</span>, <span class="st">"IPRCAT"</span>, <span class="st">"IPR_DESC"</span>, <span class="st">"PCTUI_PT"</span>), 
    <span class="dt">region =</span> <span class="st">"county:*"</span>,
    <span class="dt">regionin =</span> <span class="st">"state:01"</span>,
    <span class="dt">time =</span> <span class="dv">2017</span>)
<span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/head">head</a></span>(sahie_counties, <span class="dt">n=</span>12L)
<span class="co">#&gt;    time state county                NAME IPRCAT    IPR_DESC PCTUI_PT</span>
<span class="co">#&gt; 1  2017    01    003  Baldwin County, AL      0 All Incomes     11.3</span>
<span class="co">#&gt; 2  2017    01    001  Autauga County, AL      0 All Incomes      8.7</span>
<span class="co">#&gt; 3  2017    01    015  Calhoun County, AL      0 All Incomes     11.9</span>
<span class="co">#&gt; 4  2017    01    005  Barbour County, AL      0 All Incomes     12.2</span>
<span class="co">#&gt; 5  2017    01    007     Bibb County, AL      0 All Incomes     10.2</span>
<span class="co">#&gt; 6  2017    01    009   Blount County, AL      0 All Incomes     13.4</span>
<span class="co">#&gt; 7  2017    01    011  Bullock County, AL      0 All Incomes     11.4</span>
<span class="co">#&gt; 8  2017    01    013   Butler County, AL      0 All Incomes     11.2</span>
<span class="co">#&gt; 9  2017    01    027     Clay County, AL      0 All Incomes     13.9</span>
<span class="co">#&gt; 10 2017    01    017 Chambers County, AL      0 All Incomes     11.9</span>
<span class="co">#&gt; 11 2017    01    019 Cherokee County, AL      0 All Incomes     11.2</span>
<span class="co">#&gt; 12 2017    01    021  Chilton County, AL      0 All Incomes     13.8</span></code></pre></div>
<p>Retrieve annual data using the <code>time</code> argument by specifying a start year and stop year.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">sahie_annual &lt;-<span class="st"> </span><span class="kw"><a href="reference/getCensus.html">getCensus</a></span>(<span class="dt">name =</span> <span class="st">"timeseries/healthins/sahie"</span>,
    <span class="dt">vars =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"NAME"</span>, <span class="st">"PCTUI_PT"</span>),
    <span class="dt">region =</span> <span class="st">"state:01"</span>,
    <span class="dt">time =</span> <span class="st">"from 2006 to 2017"</span>)
sahie_annual
<span class="co">#&gt;      time state    NAME PCTUI_PT</span>
<span class="co">#&gt; 1  2006    01 Alabama     15.7</span>
<span class="co">#&gt; 2  2007    01 Alabama     14.6</span>
<span class="co">#&gt; 3  2008    01 Alabama     15.3</span>
<span class="co">#&gt; 4  2009    01 Alabama     15.8</span>
<span class="co">#&gt; 5  2010    01 Alabama     16.9</span>
<span class="co">#&gt; 6  2011    01 Alabama     16.6</span>
<span class="co">#&gt; 7  2012    01 Alabama     15.8</span>
<span class="co">#&gt; 8  2013    01 Alabama     15.9</span>
<span class="co">#&gt; 9  2014    01 Alabama     14.2</span>
<span class="co">#&gt; 10 2015    01 Alabama     11.9</span>
<span class="co">#&gt; 11 2016    01 Alabama     10.8</span>
<span class="co">#&gt; 12 2017    01 Alabama     11.0</span></code></pre></div>
<p>Get the uninsured rate for non-elderly adults (<code>AGECAT = 1</code>) with incomes of 138 to 400% of the poverty line (<code>IPRCAT = 5</code>), by race (<code>RACECAT</code>) and state.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">sahie_nonelderly &lt;-<span class="st"> </span><span class="kw"><a href="reference/getCensus.html">getCensus</a></span>(<span class="dt">name =</span> <span class="st">"timeseries/healthins/sahie"</span>,
    <span class="dt">vars =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"NAME"</span>, <span class="st">"PCTUI_PT"</span>, <span class="st">"IPR_DESC"</span>, <span class="st">"AGE_DESC"</span>, <span class="st">"RACECAT"</span>, <span class="st">"RACE_DESC"</span>), 
    <span class="dt">region =</span> <span class="st">"state:*"</span>, 
    <span class="dt">time =</span> <span class="dv">2017</span>,
    <span class="dt">IPRCAT =</span> <span class="dv">5</span>,
    <span class="dt">AGECAT =</span> <span class="dv">1</span>)
<span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/head">head</a></span>(sahie_nonelderly)
<span class="co">#&gt;   time state       NAME PCTUI_PT                IPR_DESC       AGE_DESC RACECAT RACE_DESC IPRCAT AGECAT</span>
<span class="co">#&gt; 1 2017    01    Alabama     14.6 138% to 400% of Poverty 18 to 64 years       0 All Races      5      1</span>
<span class="co">#&gt; 2 2017    02     Alaska     24.3 138% to 400% of Poverty 18 to 64 years       0 All Races      5      1</span>
<span class="co">#&gt; 3 2017    04    Arizona     16.6 138% to 400% of Poverty 18 to 64 years       0 All Races      5      1</span>
<span class="co">#&gt; 4 2017    05   Arkansas     12.4 138% to 400% of Poverty 18 to 64 years       0 All Races      5      1</span>
<span class="co">#&gt; 5 2017    06 California     13.6 138% to 400% of Poverty 18 to 64 years       0 All Races      5      1</span>
<span class="co">#&gt; 6 2017    08   Colorado     14.6 138% to 400% of Poverty 18 to 64 years       0 All Races      5      1</span></code></pre></div>
<p>Read more on how to build a <code>censusapi</code> call in <a href="https://hrecht.github.io/censusapi/articles/getting-started.html">Getting started with censusapi</a> and see examples from every API in the <a href="https://hrecht.github.io/censusapi/articles/example-masterlist.html">example master list</a>.</p>
</div>
<div id="disclaimer" class="section level2">
<h2 class="hasAnchor">
<a href="#disclaimer" class="anchor"></a>Disclaimer</h2>
<p>This product uses the Census Bureau Data API but is not endorsed or certified by the Census Bureau.</p>
<p>Please note that this project is released with a <a href="CODE_OF_CONDUCT.html">Contributor Code of Conduct</a>. By participating in this project you agree to abide by its terms.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cloud.r-project.org/package=censusapi">https://​cloud.r-project.org/​package=censusapi</a>
</li>
<li>Browse source code at <br><a href="https://github.com/hrecht/censusapi">https://​github.com/​hrecht/​censusapi</a>
</li>
<li>Report a bug at <br><a href="https://github.com/hrecht/censusapi/issues">https://​github.com/​hrecht/​censusapi/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Hannah Recht <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.org/hrecht/censusapi"><img src="https://travis-ci.org/hrecht/censusapi.svg?branch=master" alt="Build Status"></a></li>
<li><a href="https://cran.r-project.org/package=censusapi"><img src="https://www.r-pkg.org/badges/version/censusapi" alt="CRAN Badge"></a></li>
</ul>
</div>
</div>
</div>

      <footer><div class="copyright">
  <p>Developed by Hannah Recht.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
